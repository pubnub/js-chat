<?xml version="1.0" encoding="UTF-8"?>
<testsuites name="jest tests" tests="124" failures="43" errors="0" time="462.487">
    <testsuite name="Send message test" errors="0" failures="14" skipped="1" timestamp="2024-11-06T21:07:53" time="225.06" tests="47">
        <testcase classname="Send message test should send and receive unicode messages correctly" name="Send message test should send and receive unicode messages correctly" time="12.248">
        </testcase>
        <testcase classname="Send message test should send and receive regular text messages correctly" name="Send message test should send and receive regular text messages correctly" time="4.085">
        </testcase>
        <testcase classname="Send message test should delete the message" name="Send message test should delete the message" time="3.582">
        </testcase>
        <testcase classname="Send message test should restore a soft deleted message" name="Send message test should restore a soft deleted message" time="5.054">
        </testcase>
        <testcase classname="Send message test should restore a soft deleted message together with its thread" name="Send message test should restore a soft deleted message together with its thread" time="11.07">
            <failure>Error: thrown: &quot;Exceeded timeout of 10000 ms for a test.
                Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.&quot;
                at test (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message.test.ts:153:3)
                at _dispatchDescribe (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/index.js:91:26)
                at describe (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/index.js:55:5)
                at Object.describe (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message.test.ts:23:1)
                at Runtime._execModule (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-runtime/build/index.js:1439:24)
                at Runtime._loadModule (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-runtime/build/index.js:1022:12)
                at Runtime.requireModule (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-runtime/build/index.js:882:12)
                at jestAdapter (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)
                at runTestInternal (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-runner/build/runTest.js:367:16)
                at runTest (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-runner/build/runTest.js:444:34)</failure>
        </testcase>
        <testcase classname="Send message test should only log a warning if you try to restore an undeleted message" name="Send message test should only log a warning if you try to restore an undeleted message" time="2.224">
        </testcase>
        <testcase classname="Send message test should throw an error if you try to create a thread on a deleted message" name="Send message test should throw an error if you try to create a thread on a deleted message" time="3.293">
            <failure>Error: expect(received).toContain(expected) // indexOf

                Expected value:  &quot;[PubNubException: You cannot create threads on deleted messages.]&quot;
                Received object: [PubNubException: You cannot create threads on deleted messages.]
                at Object.toContain (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message.test.ts:238:35)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="Send message test should edit the message" name="Send message test should edit the message" time="2.11">
        </testcase>
        <testcase classname="Send message test should toggle the message reaction" name="Send message test should toggle the message reaction" time="2.51">
        </testcase>
        <testcase classname="Send message test should pin the message" name="Send message test should pin the message" time="2.687">
        </testcase>
        <testcase classname="Send message test should unpin the message" name="Send message test should unpin the message" time="3.215">
        </testcase>
        <testcase classname="Send message test should stream message updates and invoke the callback" name="Send message test should stream message updates and invoke the callback" time="3.82">
        </testcase>
        <testcase classname="Send message test should render URLs correctly" name="Send message test should render URLs correctly" time="5.412">
            <failure>TypeError: messageDraft.addMentionedUser is not a function
                at addMentionedUser (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/utils.ts:185:22)
                at Object.&lt;anonymous&gt; (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message.test.ts:349:58)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="Send message test should add linked text correctly" name="Send message test should add linked text correctly" time="0.719">
            <failure>TypeError: this.k2m_1.f2f is not a function
                at MessageDraft.f2f [as onChange] (/Users/wojciech.kalicinski/projects/pubnub-chat/pubnub-chat-impl/build/src/jsMain/kotlin/MessageDraftJs.kt:28:22)
                at Object.onChange (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message.test.ts:360:18)
                at Promise.then.completed (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/utils.js:298:28)
                at new Promise (&lt;anonymous&gt;)
                at callAsyncCircusFn (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/utils.js:231:10)
                at _callCircusTest (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:316:40)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)
                at _runTest (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:252:3)
                at _runTestsForDescribeBlock (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:126:9)
                at _runTestsForDescribeBlock (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:121:9)
                at run (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:71:3)
                at runAndTransformResultsToJestFormat (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
                at jestAdapter (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
                at runTestInternal (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-runner/build/runTest.js:367:16)
                at runTest (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-runner/build/runTest.js:444:34)</failure>
        </testcase>
        <testcase classname="Send message test should throw an error for invalid link format" name="Send message test should throw an error for invalid link format" time="0.736">
            <failure>TypeError: this.k2m_1.f2f is not a function
                at MessageDraft.f2f [as onChange] (/Users/wojciech.kalicinski/projects/pubnub-chat/pubnub-chat-impl/build/src/jsMain/kotlin/MessageDraftJs.kt:28:22)
                at Object.onChange (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message.test.ts:383:18)
                at Promise.then.completed (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/utils.js:298:28)
                at new Promise (&lt;anonymous&gt;)
                at callAsyncCircusFn (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/utils.js:231:10)
                at _callCircusTest (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:316:40)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)
                at _runTest (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:252:3)
                at _runTestsForDescribeBlock (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:126:9)
                at _runTestsForDescribeBlock (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:121:9)
                at run (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:71:3)
                at runAndTransformResultsToJestFormat (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
                at jestAdapter (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
                at runTestInternal (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-runner/build/runTest.js:367:16)
                at runTest (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-runner/build/runTest.js:444:34)</failure>
        </testcase>
        <testcase classname="Send message test should throw an error if adding a link inside another link" name="Send message test should throw an error if adding a link inside another link" time="0.728">
            <failure>TypeError: this.k2m_1.f2f is not a function
                at MessageDraft.f2f [as onChange] (/Users/wojciech.kalicinski/projects/pubnub-chat/pubnub-chat-impl/build/src/jsMain/kotlin/MessageDraftJs.kt:28:22)
                at Object.onChange (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message.test.ts:401:18)
                at Promise.then.completed (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/utils.js:298:28)
                at new Promise (&lt;anonymous&gt;)
                at callAsyncCircusFn (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/utils.js:231:10)
                at _callCircusTest (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:316:40)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)
                at _runTest (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:252:3)
                at _runTestsForDescribeBlock (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:126:9)
                at _runTestsForDescribeBlock (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:121:9)
                at run (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:71:3)
                at runAndTransformResultsToJestFormat (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
                at jestAdapter (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
                at runTestInternal (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-runner/build/runTest.js:367:16)
                at runTest (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-runner/build/runTest.js:444:34)</failure>
        </testcase>
        <testcase classname="Send message test should remove a linked URL correctly" name="Send message test should remove a linked URL correctly" time="0.948">
            <failure>TypeError: this.k2m_1.f2f is not a function
                at MessageDraft.f2f [as onChange] (/Users/wojciech.kalicinski/projects/pubnub-chat/pubnub-chat-impl/build/src/jsMain/kotlin/MessageDraftJs.kt:28:22)
                at Object.onChange (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message.test.ts:433:18)
                at Promise.then.completed (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/utils.js:298:28)
                at new Promise (&lt;anonymous&gt;)
                at callAsyncCircusFn (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/utils.js:231:10)
                at _callCircusTest (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:316:40)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)
                at _runTest (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:252:3)
                at _runTestsForDescribeBlock (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:126:9)
                at _runTestsForDescribeBlock (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:121:9)
                at run (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:71:3)
                at runAndTransformResultsToJestFormat (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
                at jestAdapter (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
                at runTestInternal (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-runner/build/runTest.js:367:16)
                at runTest (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-runner/build/runTest.js:444:34)</failure>
        </testcase>
        <testcase classname="Send message test should report a message" name="Send message test should report a message" time="1.647">
            <failure>TypeError: channel.getMessageReportsHistory is not a function
                at Object.getMessageReportsHistory (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message.test.ts:479:38)</failure>
        </testcase>
        <testcase classname="Send message test should report a message (deprecated)" name="Send message test should report a message (deprecated)" time="1.316">
            <failure>TypeError: reportedMessage.DEPRECATED_report is not a function
                at Object.DEPRECATED_report (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message.test.ts:498:27)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="Send message test should send multiple image files along with a text message correctly" name="Send message test should send multiple image files along with a text message correctly" time="4.476">
        </testcase>
        <testcase classname="Send message test should send image file along with a text message correctly" name="Send message test should send image file along with a text message correctly" time="4.335">
        </testcase>
        <testcase classname="Send message test should send pdf file along with a text message correctly" name="Send message test should send pdf file along with a text message correctly" time="4.256">
        </testcase>
        <testcase classname="Send message test should send txt file along with a text message correctly" name="Send message test should send txt file along with a text message correctly" time="4.869">
        </testcase>
        <testcase classname="Send message test should send mp4 file along with a text message correctly" name="Send message test should send mp4 file along with a text message correctly" time="9.504">
        </testcase>
        <testcase classname="Send message test should send multiple different types of files along with a text message correctly" name="Send message test should send multiple different types of files along with a text message correctly" time="4.296">
        </testcase>
        <testcase classname="Send message test shouldn&apos;t allow to send image file over 5 mb along with a text message" name="Send message test shouldn&apos;t allow to send image file over 5 mb along with a text message" time="0">
            <skipped/>
        </testcase>
        <testcase classname="Send message test should send 3 messages with proper delays and verify rate limiter" name="Send message test should send 3 messages with proper delays and verify rate limiter" time="5.347">
        </testcase>
        <testcase classname="Send message test should send long messages and validate correct rendering" name="Send message test should send long messages and validate correct rendering" time="9.813">
        </testcase>
        <testcase classname="Send message test should fail to send an empty or whitespace-only message" name="Send message test should fail to send an empty or whitespace-only message" time="1.079">
        </testcase>
        <testcase classname="Send message test should send and receive messages in various languages correctly" name="Send message test should send and receive messages in various languages correctly" time="16.495">
        </testcase>
        <testcase classname="Send message test should toggle the message reaction and then delete the message reaction" name="Send message test should toggle the message reaction and then delete the message reaction" time="1.604">
        </testcase>
        <testcase classname="Send message test should be unable to pin multiple messages" name="Send message test should be unable to pin multiple messages" time="2.31">
        </testcase>
        <testcase classname="Send message test should not allow inserting a link inside another link" name="Send message test should not allow inserting a link inside another link" time="1.1">
            <failure>TypeError: this.k2m_1.f2f is not a function
                at MessageDraft.f2f [as onChange] (/Users/wojciech.kalicinski/projects/pubnub-chat/pubnub-chat-impl/build/src/jsMain/kotlin/MessageDraftJs.kt:28:22)
                at Object.onChange (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message.test.ts:986:18)
                at Promise.then.completed (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/utils.js:298:28)
                at new Promise (&lt;anonymous&gt;)
                at callAsyncCircusFn (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/utils.js:231:10)
                at _callCircusTest (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:316:40)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)
                at _runTest (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:252:3)
                at _runTestsForDescribeBlock (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:126:9)
                at _runTestsForDescribeBlock (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:121:9)
                at run (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:71:3)
                at runAndTransformResultsToJestFormat (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
                at jestAdapter (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
                at runTestInternal (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-runner/build/runTest.js:367:16)
                at runTest (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-runner/build/runTest.js:444:34)</failure>
        </testcase>
        <testcase classname="Send message test should send quote message in a Thread" name="Send message test should send quote message in a Thread" time="6.801">
        </testcase>
        <testcase classname="Send message test should pin the message inside the Thread" name="Send message test should pin the message inside the Thread" time="6.82">
        </testcase>
        <testcase classname="Send message test should encrypt and decrypt a message" name="Send message test should encrypt and decrypt a message" time="8.441">
        </testcase>
        <testcase classname="Send message test should encrypt and decrypt a file" name="Send message test should encrypt and decrypt a file" time="9.514">
        </testcase>
        <testcase classname="Send message test should still view text messages sent before enabling encryption" name="Send message test should still view text messages sent before enabling encryption" time="9.124">
        </testcase>
        <testcase classname="Send message test should still view files sent before enabling encryption" name="Send message test should still view files sent before enabling encryption" time="9.525">
        </testcase>
        <testcase classname="Send message test should be able to decrypt text and file messages sent using a previous encryption key" name="Send message test should be able to decrypt text and file messages sent using a previous encryption key" time="9.117">
            <failure>Error: expect(received).toBe(expected) // Object.is equality

                Expected: &quot;Random text&quot;
                Received: &quot;UE5FRAFBQ1JIEFlJ3HBuoJIBP5xmqrc1YOjb1Kb/KZLH+JWt+5OAYqJrTcYu3Nx47vLC7sNbEXH6FiuM7Wgfd09X8aFrl4I1ytRJV0uN4yU//SAG/kukhclBCyT1mw6fSDVS/lVwkc/RvX1027eI5fAm5ok+1Wtj0rMCerW/URsBvbZl6xFUI+BX8x5VcgUzs42JViyV5tYcZUSh2Gn0WKcYUIdKKX6Uk0sQDavzWoak7QajW/eXjkTbePfUC3h67mfUfnPLXDUmQlw2MquyF17ANV5IRcZM79OZF4XHwhsaSNYPcMjerpdIRlTUp7jM6D/sEsGAxjtxm/iwXr1VamIqSOUhm+lgTFlBFWM8V0+cWcWhz3gfXPX7OvW2XSLG4OWgcBXcOpXLC+QnwPOqjq/xXNfdp132GcGrcHQx5Wtdx8wRse8o0VmRbTMWLcQk+AtgyGFhE4Cy5CY7viWqa1uJ5yMEAEKwp5BuKgk8robkvdKQHoC/Vm0lOeBNt5LI5zE8aQ+aGseTrfhNSgYOGZF2czvd3ENfGj+C1Wt3IkZaWhotPhljnzTBmQXYKLlSwWHoqKuH4ZtnmvVxzOrKki5F+0KmBBvre5aeZBILhA9oRXzVSq+5zOZt08C+gXIGsbaQZUi/ugftLub91MMgyxnA/T/ZxTQ4yxk+Qd1fJ4iRsLpCg083i6ojkrQ9ZrC1ZK5jJjsw7UXCYfsph5RBEkPkAG9hDKoMkuo3io388Jioa5NVVN0QAc4noMw4TivttZFCwlewWxVHqU9uQMQAUHm5URcqf93FfhNBpJdl4QxT9Uq/tHbkGvRdJJ1DciavlmK1mDkGYGIvw6kvr+mCv8q+5gvJpY4pu/vFEdtITg9bSimXcQBaY+mvy0xNWqmdUWfxG8fwMolLjqHm2T3ustNApl0hErVkoq2ziCbkGnu2oG1OG2dNE52yTcDhjjBfDXa9X7wivPHFsfjT6hxJJM/ump6zzmLtwgPk5OWRzSKjLql7FVn6jjEqg7XQ+Qi0Y0feIMfN1jFz1f5DLHxsUfrCzDivGFRWQIBd1FepRNWJPwA9L/75FajKrwbPmAhuofoS6tld+6oyyXm00WatnH5T0z0Jo44S91RdBefqfDeau3cpwwAmSiysgPHyd4Eg954slKbLvlbA32Fonhicj1Bu+WsyyVklggSmPpYeM5QyEbWEDKvwo2oLWrpzCz50aNSjf8azAVNv1j+bBbvQwJSOWVCybMieCkF3hhspSjPsGjXf1ovnamTZOomxIJp1dW2DlW3yKxEBpITZhKnRZIRs6y9J9U/MXyHb1gSAMBnGBuiwyTF5ipnl0tfDlS5wvnAP2extpFELCAEgWaNk+5X8YYNNfRv9hUJ5c+/6X2fhX0DcatQgQCMCdpWhUa6abxsbKyM//qzFzZ5swTo/jofGLsVIxw8yHYMeEot0ggFmjWeKaUdyJVn7ubVCb+h5sMNbyJWeXGXRrdS7rWWV5tM6LTl4dUqq+wg0+CYoMEZKM1t+RAgWnaH+AvQ0RNIUNZxZvJv11cLq9GAtEqnwQQIeskr5+frHb7I=&quot;
                at Object.toBe (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message.test.ts:1351:39)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="Send message test should send a message with custom body and transform it to TextMessageContent when received" name="Send message test should send a message with custom body and transform it to TextMessageContent when received" time="3.806">
        </testcase>
        <testcase classname="Send message test should send a message with custom body and crash if getMessageResponseBody is incorrect" name="Send message test should send a message with custom body and crash if getMessageResponseBody is incorrect" time="2.885">
            <failure>Error: expect(received).toBe(expected) // Object.is equality

                Expected: &quot;Cannot read properties of undefined (reading &apos;does&apos;)&quot;
                Received: &quot;Failed to retrieve getHistory data.&quot;
                at Object.toBe (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message.test.ts:1432:32)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="Send message test should be able to pass custom edit and delete action names" name="Send message test should be able to pass custom edit and delete action names" time="4.278">
            <failure>Error: expect(received).toBe(expected) // Object.is equality

                Expected: true
                Received: false
                at Object.toBe (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message.test.ts:1463:47)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="Send message test should work fine even for multiple schemas on different channels" name="Send message test should work fine even for multiple schemas on different channels" time="4.094">
        </testcase>
        <testcase classname="Send message test should be able to read live messages with custom payloads as well" name="Send message test should be able to read live messages with custom payloads as well" time="4.152">
        </testcase>
        <testcase classname="Send message test should be able to read live encrypted messages with custom payloads" name="Send message test should be able to read live encrypted messages with custom payloads" time="4.377">
            <failure>Error: expect(received).toBe(expected) // Object.is equality

                Expected: &quot;Hello encrypted world!&quot;
                Received: &quot;&quot;
                at Object.toBe (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message.test.ts:1636:29)</failure>
        </testcase>
        <testcase classname="Send message test should be able to read historic encrypted messages with custom payloads" name="Send message test should be able to read historic encrypted messages with custom payloads" time="2.965">
        </testcase>
    </testsuite>
    <testsuite name="Channel test" errors="0" failures="16" skipped="1" timestamp="2024-11-06T21:11:38" time="182.053" tests="46">
        <testcase classname="Channel test should create a channel" name="Channel test should create a channel" time="1.672">
        </testcase>
        <testcase classname="Channel test Should be able to delete channel" name="Channel test Should be able to delete channel" time="2.902">
        </testcase>
        <testcase classname="Channel test should get channel history" name="Channel test should get channel history" time="2.219">
        </testcase>
        <testcase classname="Channel test should get channel history with pagination" name="Channel test should get channel history with pagination" time="3.598">
        </testcase>
        <testcase classname="Channel test should fail when trying to send a message to a non-existent channel" name="Channel test should fail when trying to send a message to a non-existent channel" time="1.658">
        </testcase>
        <testcase classname="Channel test should fail when trying to send a message to a deleted channel" name="Channel test should fail when trying to send a message to a deleted channel" time="1.917">
        </testcase>
        <testcase classname="Channel test should fail when trying to get history of a deleted channel" name="Channel test should fail when trying to get history of a deleted channel" time="1.916">
        </testcase>
        <testcase classname="Channel test should edit membership metadata" name="Channel test should edit membership metadata" time="4.83">
        </testcase>
        <testcase classname="Channel test should create a direct, group and public chats with a predefined ID" name="Channel test should create a direct, group and public chats with a predefined ID" time="7.43">
        </testcase>
        <testcase classname="Channel test should create a direct, group and public chats with default IDs" name="Channel test should create a direct, group and public chats with default IDs" time="6.788">
        </testcase>
        <testcase classname="Channel test should create direct conversation and send message" name="Channel test should create direct conversation and send message" time="5.995">
            <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

                Expected: ObjectContaining {&quot;payload&quot;: ObjectContaining {&quot;channelId&quot;: &quot;direct.8943288606247478&quot;, &quot;channelType&quot;: &quot;direct&quot;, &quot;type&quot;: Anything}}
                Received: {&quot;channelId&quot;: &quot;user_PZqNDVfh&quot;, &quot;chat&quot;: {&quot;chat&quot;: {&quot;f2a_1&quot;: {&quot;d22_1&quot;: {&quot;l2_1&quot;: &quot;WARN&quot;, &quot;m2_1&quot;: 2}, &quot;e22_1&quot;: {&quot;y_1&quot;: 1410065408, &quot;z_1&quot;: 2}, &quot;f22_1&quot;: {&quot;y_1&quot;: 1704124416, &quot;z_1&quot;: 279}, &quot;g22_1&quot;: false, &quot;h22_1&quot;: {&quot;a23_1&quot;: [PNPushType], &quot;b23_1&quot;: null, &quot;c23_1&quot;: [PNPushEnvironment], &quot;y22_1&quot;: false, &quot;z22_1&quot;: &quot;&quot;}, &quot;i22_1&quot;: 2, &quot;j22_1&quot;: {&quot;a5_1&quot;: null, &quot;d5_1&quot;: null, &quot;e5_1&quot;: null, &quot;r5_1&quot;: [InternalHashMap], &quot;s5_1&quot;: null, &quot;z4_1&quot;: null}, &quot;k22_1&quot;: {&quot;t22_1&quot;: null, &quot;u22_1&quot;: null, &quot;v22_1&quot;: null, &quot;w22_1&quot;: null, &quot;x22_1&quot;: null}}, &quot;g2a_1&quot;: {&quot;k1v_1&quot;: {&quot;File&quot;: [Function PubNubFile], &quot;_channelGroups&quot;: [PubnubChannelGroups], &quot;_configuration&quot;: [Object], &quot;_objects&quot;: [PubNubObjects], &quot;_push&quot;: [PubNubPushNotifications], &quot;crypto&quot;: [default_1], &quot;cryptography&quot;: [NodeCryptography], &quot;eventEmitter&quot;: [EventEmitter], &quot;listenerManager&quot;: [ListenerManager], &quot;nodeTransport&quot;: [NodeTransport], &quot;subscriptionManager&quot;: [SubscriptionManager], &quot;tokenManager&quot;: [TokenManager], &quot;transport&quot;: [PubNubMiddleware]}}, &quot;h2a_1&quot;: &quot;edited&quot;, &quot;i2a_1&quot;: &quot;deleted&quot;, &quot;j2a_1&quot;: &quot;reactions&quot;, &quot;k2a_1&quot;: {&quot;k2n_1&quot;: {&quot;a5_1&quot;: null, &quot;d5_1&quot;: null, &quot;e5_1&quot;: null, &quot;r5_1&quot;: [InternalHashMap], &quot;s5_1&quot;: null, &quot;z4_1&quot;: null}, &quot;l2n_1&quot;: 0}, &quot;l2a_1&quot;: {&quot;a2b_1&quot;: null, &quot;q2a_1&quot;: [Circular], &quot;r2a_1&quot;: &quot;test-user&quot;, &quot;s2a_1&quot;: &quot;test-user&quot;, &quot;t2a_1&quot;: null, &quot;u2a_1&quot;: null, &quot;v2a_1&quot;: null, &quot;w2a_1&quot;: null, &quot;x2a_1&quot;: null, &quot;y2a_1&quot;: null, &quot;z2a_1&quot;: &quot;2024-10-18T10:00:50.193724Z&quot;}, &quot;m2a_1&quot;: {&quot;a5_1&quot;: null, &quot;d5_1&quot;: null, &quot;e5_1&quot;: null, &quot;r5_1&quot;: {&quot;a7_1&quot;: 0, &quot;b7_1&quot;: false, &quot;s6_1&quot;: [Array], &quot;t6_1&quot;: null, &quot;u6_1&quot;: [Int32Array], &quot;v6_1&quot;: [Int32Array], &quot;w6_1&quot;: 2, &quot;x6_1&quot;: 0, &quot;y6_1&quot;: 28, &quot;z6_1&quot;: 0}, &quot;s5_1&quot;: null, &quot;z4_1&quot;: null}, &quot;n2a_1&quot;: {&quot;a5_1&quot;: null, &quot;d5_1&quot;: null, &quot;e5_1&quot;: null, &quot;r5_1&quot;: {&quot;a7_1&quot;: 0, &quot;b7_1&quot;: false, &quot;s6_1&quot;: [Array], &quot;t6_1&quot;: null, &quot;u6_1&quot;: [Int32Array], &quot;v6_1&quot;: [Int32Array], &quot;w6_1&quot;: 2, &quot;x6_1&quot;: 0, &quot;y6_1&quot;: 28, &quot;z6_1&quot;: 0}, &quot;s5_1&quot;: null, &quot;z4_1&quot;: null}, &quot;o2a_1&quot;: null, &quot;p2a_1&quot;: null}, &quot;config&quot;: {&quot;publishKey&quot;: &quot;pub-c-92e62c76-408a-4ac4-aefc-a1d20a83b2a6&quot;, &quot;subscribeKey&quot;: &quot;sub-c-d0b8e542-12a0-41c4-999f-a2d569dc4255&quot;, &quot;userId&quot;: &quot;test-user&quot;}}, &quot;payload&quot;: {&quot;channelId&quot;: &quot;direct.8943288606247478&quot;, &quot;channelType&quot;: &quot;direct&quot;}, &quot;timetoken&quot;: &quot;17309275399329559&quot;, &quot;type&quot;: &quot;invite&quot;, &quot;userId&quot;: &quot;test-user&quot;}

                Number of calls: 1
                at Object.toHaveBeenCalledWith (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/channel.test.ts:238:28)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="Channel test should create group conversation" name="Channel test should create group conversation" time="5.885">
        </testcase>
        <testcase classname="Channel test should create a thread" name="Channel test should create a thread" time="4.23">
        </testcase>
        <testcase classname="Channel test should not be able to create an empty Thread without any message" name="Channel test should not be able to create an empty Thread without any message" time="1.248">
        </testcase>
        <testcase classname="Channel test should stream channel updates and invoke the callback" name="Channel test should stream channel updates and invoke the callback" time="2.241">
        </testcase>
        <testcase classname="Channel test should stream membership updates and invoke the callback" name="Channel test should stream membership updates and invoke the callback" time="4.603">
        </testcase>
        <testcase classname="Channel test should get unread messages count" name="Channel test should get unread messages count" time="5.901">
        </testcase>
        <testcase classname="Channel test should mention users in a message and validate mentioned users" name="Channel test should mention users in a message and validate mentioned users" time="2.898">
            <failure>TypeError: messageDraft.addMentionedUser is not a function
                at Object.addMentionedUser (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/channel.test.ts:422:18)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="Channel test should mention users with multi-word names in a message and validate mentioned users" name="Channel test should mention users with multi-word names in a message and validate mentioned users" time="2.964">
            <failure>TypeError: messageDraft.addMentionedUser is not a function
                at Object.addMentionedUser (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/channel.test.ts:464:18)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="Channel test should send a message with words that start with @ but are not user mentions" name="Channel test should send a message with words that start with @ but are not user mentions" time="1.935">
            <failure>TypeError: Cannot convert undefined or null to object
                at Function.keys (&lt;anonymous&gt;)
                at Object.keys (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/channel.test.ts:503:19)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="Channel test should try to mention users with incorrect usernames and validate no users are mentioned" name="Channel test should try to mention users with incorrect usernames and validate no users are mentioned" time="2.292">
            <failure>TypeError: messageDraft.addMentionedUser is not a function
                at Object.addMentionedUser (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/channel.test.ts:515:18)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="Channel test should suggest global users who are not members of the channel" name="Channel test should suggest global users who are not members of the channel" time="8.737">
            <failure>Error: Property `getUserSuggestions` does not exist in the provided object
                at ModuleMocker.spyOn (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-mock/build/index.js:731:13)
                at Object.spyOn (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/channel.test.ts:543:40)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="Channel test should mention the same user multiple times in a message and validate mentioned users" name="Channel test should mention the same user multiple times in a message and validate mentioned users" time="3.648">
            <failure>TypeError: messageDraft.addMentionedUser is not a function
                at Object.addMentionedUser (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/channel.test.ts:579:18)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="Channel test should correctly add and remove mentioned user" name="Channel test should correctly add and remove mentioned user" time="4.528">
            <failure>TypeError: messageDraft.addMentionedUser is not a function
                at Object.addMentionedUser (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/channel.test.ts:607:18)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="Channel test should correctly add and remove the middle mentioned user" name="Channel test should correctly add and remove the middle mentioned user" time="3.803">
            <failure>TypeError: messageDraft.addMentionedUser is not a function
                at Object.addMentionedUser (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/channel.test.ts:641:18)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="Channel test should mention user in a message and validate cache" name="Channel test should mention user in a message and validate cache" time="0">
            <skipped/>
        </testcase>
        <testcase classname="Channel test should add and remove a quote" name="Channel test should add and remove a quote" time="2.104">
            <failure>Error: expect(received).toEqual(expected) // deep equality

                Expected: {&quot;a2m_1&quot;: [Function anonymous], &quot;b2m_1&quot;: [Function anonymous], &quot;c2m_1&quot;: [Function anonymous], &quot;w2l_1&quot;: {&quot;a2k_1&quot;: {&quot;f2a_1&quot;: {&quot;d22_1&quot;: {&quot;l2_1&quot;: &quot;WARN&quot;, &quot;m2_1&quot;: 2}, &quot;e22_1&quot;: {&quot;y_1&quot;: 1410065408, &quot;z_1&quot;: 2}, &quot;f22_1&quot;: {&quot;y_1&quot;: 1704124416, &quot;z_1&quot;: 279}, &quot;g22_1&quot;: false, &quot;h22_1&quot;: {&quot;a23_1&quot;: [PNPushType], &quot;b23_1&quot;: null, &quot;c23_1&quot;: [PNPushEnvironment], &quot;y22_1&quot;: false, &quot;z22_1&quot;: &quot;&quot;}, &quot;i22_1&quot;: 2, &quot;j22_1&quot;: {&quot;a5_1&quot;: null, &quot;d5_1&quot;: null, &quot;e5_1&quot;: null, &quot;r5_1&quot;: [InternalHashMap], &quot;s5_1&quot;: null, &quot;z4_1&quot;: null}, &quot;k22_1&quot;: {&quot;t22_1&quot;: null, &quot;u22_1&quot;: null, &quot;v22_1&quot;: null, &quot;w22_1&quot;: null, &quot;x22_1&quot;: null}}, &quot;g2a_1&quot;: {&quot;k1v_1&quot;: {&quot;File&quot;: [Function PubNubFile], &quot;_channelGroups&quot;: [PubnubChannelGroups], &quot;_configuration&quot;: [Object], &quot;_objects&quot;: [PubNubObjects], &quot;_push&quot;: [PubNubPushNotifications], &quot;crypto&quot;: [default_1], &quot;cryptography&quot;: [NodeCryptography], &quot;eventEmitter&quot;: [EventEmitter], &quot;listenerManager&quot;: [ListenerManager], &quot;nodeTransport&quot;: [NodeTransport], &quot;subscriptionManager&quot;: [SubscriptionManager], &quot;tokenManager&quot;: [TokenManager], &quot;transport&quot;: [PubNubMiddleware]}}, &quot;h2a_1&quot;: &quot;edited&quot;, &quot;i2a_1&quot;: &quot;deleted&quot;, &quot;j2a_1&quot;: &quot;reactions&quot;, &quot;k2a_1&quot;: {&quot;k2n_1&quot;: {&quot;a5_1&quot;: null, &quot;d5_1&quot;: null, &quot;e5_1&quot;: null, &quot;r5_1&quot;: [InternalHashMap], &quot;s5_1&quot;: null, &quot;z4_1&quot;: null}, &quot;l2n_1&quot;: 0}, &quot;l2a_1&quot;: {&quot;a2b_1&quot;: null, &quot;q2a_1&quot;: [Circular], &quot;r2a_1&quot;: &quot;test-user&quot;, &quot;s2a_1&quot;: &quot;test-user&quot;, &quot;t2a_1&quot;: null, &quot;u2a_1&quot;: null, &quot;v2a_1&quot;: null, &quot;w2a_1&quot;: null, &quot;x2a_1&quot;: null, &quot;y2a_1&quot;: null, &quot;z2a_1&quot;: &quot;2024-10-18T10:00:50.193724Z&quot;}, &quot;m2a_1&quot;: {&quot;a5_1&quot;: null, &quot;d5_1&quot;: null, &quot;e5_1&quot;: null, &quot;r5_1&quot;: {&quot;a7_1&quot;: 0, &quot;b7_1&quot;: false, &quot;s6_1&quot;: [Array], &quot;t6_1&quot;: null, &quot;u6_1&quot;: [Int32Array], &quot;v6_1&quot;: [Int32Array], &quot;w6_1&quot;: 2, &quot;x6_1&quot;: 0, &quot;y6_1&quot;: 28, &quot;z6_1&quot;: 0}, &quot;s5_1&quot;: null, &quot;z4_1&quot;: null}, &quot;n2a_1&quot;: {&quot;a5_1&quot;: null, &quot;d5_1&quot;: null, &quot;e5_1&quot;: null, &quot;r5_1&quot;: {&quot;a7_1&quot;: 0, &quot;b7_1&quot;: false, &quot;s6_1&quot;: [Array], &quot;t6_1&quot;: null, &quot;u6_1&quot;: [Int32Array], &quot;v6_1&quot;: [Int32Array], &quot;w6_1&quot;: 2, &quot;x6_1&quot;: 0, &quot;y6_1&quot;: 28, &quot;z6_1&quot;: 0}, &quot;s5_1&quot;: null, &quot;z4_1&quot;: null}, &quot;o2a_1&quot;: null, &quot;p2a_1&quot;: null}, &quot;b2k_1&quot;: {&quot;y_1&quot;: -578085362, &quot;z_1&quot;: 4030129}, &quot;c2k_1&quot;: {&quot;j27_1&quot;: &quot;Test message&quot;, &quot;k27_1&quot;: []}, &quot;d2k_1&quot;: &quot;channel_951IB7v4&quot;, &quot;e2g_1&quot;: {&quot;f2a_1&quot;: {&quot;d22_1&quot;: {&quot;l2_1&quot;: &quot;WARN&quot;, &quot;m2_1&quot;: 2}, &quot;e22_1&quot;: {&quot;y_1&quot;: 1410065408, &quot;z_1&quot;: 2}, &quot;f22_1&quot;: {&quot;y_1&quot;: 1704124416, &quot;z_1&quot;: 279}, &quot;g22_1&quot;: false, &quot;h22_1&quot;: {&quot;a23_1&quot;: [PNPushType], &quot;b23_1&quot;: null, &quot;c23_1&quot;: [PNPushEnvironment], &quot;y22_1&quot;: false, &quot;z22_1&quot;: &quot;&quot;}, &quot;i22_1&quot;: 2, &quot;j22_1&quot;: {&quot;a5_1&quot;: null, &quot;d5_1&quot;: null, &quot;e5_1&quot;: null, &quot;r5_1&quot;: [InternalHashMap], &quot;s5_1&quot;: null, &quot;z4_1&quot;: null}, &quot;k22_1&quot;: {&quot;t22_1&quot;: null, &quot;u22_1&quot;: null, &quot;v22_1&quot;: null, &quot;w22_1&quot;: null, &quot;x22_1&quot;: null}}, &quot;g2a_1&quot;: {&quot;k1v_1&quot;: {&quot;File&quot;: [Function PubNubFile], &quot;_channelGroups&quot;: [PubnubChannelGroups], &quot;_configuration&quot;: [Object], &quot;_objects&quot;: [PubNubObjects], &quot;_push&quot;: [PubNubPushNotifications], &quot;crypto&quot;: [default_1], &quot;cryptography&quot;: [NodeCryptography], &quot;eventEmitter&quot;: [EventEmitter], &quot;listenerManager&quot;: [ListenerManager], &quot;nodeTransport&quot;: [NodeTransport], &quot;subscriptionManager&quot;: [SubscriptionManager], &quot;tokenManager&quot;: [TokenManager], &quot;transport&quot;: [PubNubMiddleware]}}, &quot;h2a_1&quot;: &quot;edited&quot;, &quot;i2a_1&quot;: &quot;deleted&quot;, &quot;j2a_1&quot;: &quot;reactions&quot;, &quot;k2a_1&quot;: {&quot;k2n_1&quot;: {&quot;a5_1&quot;: null, &quot;d5_1&quot;: null, &quot;e5_1&quot;: null, &quot;r5_1&quot;: [InternalHashMap], &quot;s5_1&quot;: null, &quot;z4_1&quot;: null}, &quot;l2n_1&quot;: 0}, &quot;l2a_1&quot;: {&quot;a2b_1&quot;: null, &quot;q2a_1&quot;: [Circular], &quot;r2a_1&quot;: &quot;test-user&quot;, &quot;s2a_1&quot;: &quot;test-user&quot;, &quot;t2a_1&quot;: null, &quot;u2a_1&quot;: null, &quot;v2a_1&quot;: null, &quot;w2a_1&quot;: null, &quot;x2a_1&quot;: null, &quot;y2a_1&quot;: null, &quot;z2a_1&quot;: &quot;2024-10-18T10:00:50.193724Z&quot;}, &quot;m2a_1&quot;: {&quot;a5_1&quot;: null, &quot;d5_1&quot;: null, &quot;e5_1&quot;: null, &quot;r5_1&quot;: {&quot;a7_1&quot;: 0, &quot;b7_1&quot;: false, &quot;s6_1&quot;: [Array], &quot;t6_1&quot;: null, &quot;u6_1&quot;: [Int32Array], &quot;v6_1&quot;: [Int32Array], &quot;w6_1&quot;: 2, &quot;x6_1&quot;: 0, &quot;y6_1&quot;: 28, &quot;z6_1&quot;: 0}, &quot;s5_1&quot;: null, &quot;z4_1&quot;: null}, &quot;n2a_1&quot;: {&quot;a5_1&quot;: null, &quot;d5_1&quot;: null, &quot;e5_1&quot;: null, &quot;r5_1&quot;: {&quot;a7_1&quot;: 0, &quot;b7_1&quot;: false, &quot;s6_1&quot;: [Array], &quot;t6_1&quot;: null, &quot;u6_1&quot;: [Int32Array], &quot;v6_1&quot;: [Int32Array], &quot;w6_1&quot;: 2, &quot;x6_1&quot;: 0, &quot;y6_1&quot;: 28, &quot;z6_1&quot;: 0}, &quot;s5_1&quot;: null, &quot;z4_1&quot;: null}, &quot;o2a_1&quot;: null, &quot;p2a_1&quot;: null}, &quot;e2k_1&quot;: &quot;test-user&quot;, &quot;f2g_1&quot;: {&quot;y_1&quot;: -578085362, &quot;z_1&quot;: 4030129}, &quot;f2k_1&quot;: null, &quot;g2g_1&quot;: {&quot;j27_1&quot;: &quot;Test message&quot;, &quot;k27_1&quot;: []}, &quot;g2k_1&quot;: {&quot;e1p_1&quot;: {}}, &quot;h2g_1&quot;: &quot;channel_951IB7v4&quot;, &quot;i2g_1&quot;: &quot;test-user&quot;, &quot;j2g_1&quot;: null, &quot;k2g_1&quot;: {&quot;e1p_1&quot;: {}}, &quot;l2g_1&quot;: &quot;text&quot;}, &quot;x2l_1&quot;: [Function anonymous], &quot;y2l_1&quot;: [Function anonymous], &quot;z2l_1&quot;: [Function anonymous]}
                Received: serializes to the same string
                at Object.toEqual (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/channel.test.ts:701:40)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="Channel test should throw an error when trying to quote a message from another channel" name="Channel test should throw an error when trying to quote a message from another channel" time="3.201">
            <failure>Error: expect(received).toEqual(expected) // deep equality

                Expected: &quot;You cannot quote messages from other channels&quot;
                Received: [ReferenceError: fail is not defined]
                at Object.toEqual (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/channel.test.ts:724:21)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="Channel test should quote multiple messages" name="Channel test should quote multiple messages" time="2.53">
            <failure>Error: expect(received).toEqual(expected) // deep equality

                Expected: {&quot;a2m_1&quot;: [Function anonymous], &quot;b2m_1&quot;: [Function anonymous], &quot;c2m_1&quot;: [Function anonymous], &quot;w2l_1&quot;: {&quot;a2k_1&quot;: {&quot;f2a_1&quot;: {&quot;d22_1&quot;: {&quot;l2_1&quot;: &quot;WARN&quot;, &quot;m2_1&quot;: 2}, &quot;e22_1&quot;: {&quot;y_1&quot;: 1410065408, &quot;z_1&quot;: 2}, &quot;f22_1&quot;: {&quot;y_1&quot;: 1704124416, &quot;z_1&quot;: 279}, &quot;g22_1&quot;: false, &quot;h22_1&quot;: {&quot;a23_1&quot;: [PNPushType], &quot;b23_1&quot;: null, &quot;c23_1&quot;: [PNPushEnvironment], &quot;y22_1&quot;: false, &quot;z22_1&quot;: &quot;&quot;}, &quot;i22_1&quot;: 2, &quot;j22_1&quot;: {&quot;a5_1&quot;: null, &quot;d5_1&quot;: null, &quot;e5_1&quot;: null, &quot;r5_1&quot;: [InternalHashMap], &quot;s5_1&quot;: null, &quot;z4_1&quot;: null}, &quot;k22_1&quot;: {&quot;t22_1&quot;: null, &quot;u22_1&quot;: null, &quot;v22_1&quot;: null, &quot;w22_1&quot;: null, &quot;x22_1&quot;: null}}, &quot;g2a_1&quot;: {&quot;k1v_1&quot;: {&quot;File&quot;: [Function PubNubFile], &quot;_channelGroups&quot;: [PubnubChannelGroups], &quot;_configuration&quot;: [Object], &quot;_objects&quot;: [PubNubObjects], &quot;_push&quot;: [PubNubPushNotifications], &quot;crypto&quot;: [default_1], &quot;cryptography&quot;: [NodeCryptography], &quot;eventEmitter&quot;: [EventEmitter], &quot;listenerManager&quot;: [ListenerManager], &quot;nodeTransport&quot;: [NodeTransport], &quot;subscriptionManager&quot;: [SubscriptionManager], &quot;tokenManager&quot;: [TokenManager], &quot;transport&quot;: [PubNubMiddleware]}}, &quot;h2a_1&quot;: &quot;edited&quot;, &quot;i2a_1&quot;: &quot;deleted&quot;, &quot;j2a_1&quot;: &quot;reactions&quot;, &quot;k2a_1&quot;: {&quot;k2n_1&quot;: {&quot;a5_1&quot;: null, &quot;d5_1&quot;: null, &quot;e5_1&quot;: null, &quot;r5_1&quot;: [InternalHashMap], &quot;s5_1&quot;: null, &quot;z4_1&quot;: null}, &quot;l2n_1&quot;: 0}, &quot;l2a_1&quot;: {&quot;a2b_1&quot;: null, &quot;q2a_1&quot;: [Circular], &quot;r2a_1&quot;: &quot;test-user&quot;, &quot;s2a_1&quot;: &quot;test-user&quot;, &quot;t2a_1&quot;: null, &quot;u2a_1&quot;: null, &quot;v2a_1&quot;: null, &quot;w2a_1&quot;: null, &quot;x2a_1&quot;: null, &quot;y2a_1&quot;: null, &quot;z2a_1&quot;: &quot;2024-10-18T10:00:50.193724Z&quot;}, &quot;m2a_1&quot;: {&quot;a5_1&quot;: null, &quot;d5_1&quot;: null, &quot;e5_1&quot;: null, &quot;r5_1&quot;: {&quot;a7_1&quot;: 0, &quot;b7_1&quot;: false, &quot;s6_1&quot;: [Array], &quot;t6_1&quot;: null, &quot;u6_1&quot;: [Int32Array], &quot;v6_1&quot;: [Int32Array], &quot;w6_1&quot;: 2, &quot;x6_1&quot;: 0, &quot;y6_1&quot;: 28, &quot;z6_1&quot;: 0}, &quot;s5_1&quot;: null, &quot;z4_1&quot;: null}, &quot;n2a_1&quot;: {&quot;a5_1&quot;: null, &quot;d5_1&quot;: null, &quot;e5_1&quot;: null, &quot;r5_1&quot;: {&quot;a7_1&quot;: 0, &quot;b7_1&quot;: false, &quot;s6_1&quot;: [Array], &quot;t6_1&quot;: null, &quot;u6_1&quot;: [Int32Array], &quot;v6_1&quot;: [Int32Array], &quot;w6_1&quot;: 2, &quot;x6_1&quot;: 0, &quot;y6_1&quot;: 28, &quot;z6_1&quot;: 0}, &quot;s5_1&quot;: null, &quot;z4_1&quot;: null}, &quot;o2a_1&quot;: null, &quot;p2a_1&quot;: null}, &quot;b2k_1&quot;: {&quot;y_1&quot;: -521199537, &quot;z_1&quot;: 4030129}, &quot;c2k_1&quot;: {&quot;j27_1&quot;: &quot;Test message 3&quot;, &quot;k27_1&quot;: []}, &quot;d2k_1&quot;: &quot;channel_7QualP6l&quot;, &quot;e2g_1&quot;: {&quot;f2a_1&quot;: {&quot;d22_1&quot;: {&quot;l2_1&quot;: &quot;WARN&quot;, &quot;m2_1&quot;: 2}, &quot;e22_1&quot;: {&quot;y_1&quot;: 1410065408, &quot;z_1&quot;: 2}, &quot;f22_1&quot;: {&quot;y_1&quot;: 1704124416, &quot;z_1&quot;: 279}, &quot;g22_1&quot;: false, &quot;h22_1&quot;: {&quot;a23_1&quot;: [PNPushType], &quot;b23_1&quot;: null, &quot;c23_1&quot;: [PNPushEnvironment], &quot;y22_1&quot;: false, &quot;z22_1&quot;: &quot;&quot;}, &quot;i22_1&quot;: 2, &quot;j22_1&quot;: {&quot;a5_1&quot;: null, &quot;d5_1&quot;: null, &quot;e5_1&quot;: null, &quot;r5_1&quot;: [InternalHashMap], &quot;s5_1&quot;: null, &quot;z4_1&quot;: null}, &quot;k22_1&quot;: {&quot;t22_1&quot;: null, &quot;u22_1&quot;: null, &quot;v22_1&quot;: null, &quot;w22_1&quot;: null, &quot;x22_1&quot;: null}}, &quot;g2a_1&quot;: {&quot;k1v_1&quot;: {&quot;File&quot;: [Function PubNubFile], &quot;_channelGroups&quot;: [PubnubChannelGroups], &quot;_configuration&quot;: [Object], &quot;_objects&quot;: [PubNubObjects], &quot;_push&quot;: [PubNubPushNotifications], &quot;crypto&quot;: [default_1], &quot;cryptography&quot;: [NodeCryptography], &quot;eventEmitter&quot;: [EventEmitter], &quot;listenerManager&quot;: [ListenerManager], &quot;nodeTransport&quot;: [NodeTransport], &quot;subscriptionManager&quot;: [SubscriptionManager], &quot;tokenManager&quot;: [TokenManager], &quot;transport&quot;: [PubNubMiddleware]}}, &quot;h2a_1&quot;: &quot;edited&quot;, &quot;i2a_1&quot;: &quot;deleted&quot;, &quot;j2a_1&quot;: &quot;reactions&quot;, &quot;k2a_1&quot;: {&quot;k2n_1&quot;: {&quot;a5_1&quot;: null, &quot;d5_1&quot;: null, &quot;e5_1&quot;: null, &quot;r5_1&quot;: [InternalHashMap], &quot;s5_1&quot;: null, &quot;z4_1&quot;: null}, &quot;l2n_1&quot;: 0}, &quot;l2a_1&quot;: {&quot;a2b_1&quot;: null, &quot;q2a_1&quot;: [Circular], &quot;r2a_1&quot;: &quot;test-user&quot;, &quot;s2a_1&quot;: &quot;test-user&quot;, &quot;t2a_1&quot;: null, &quot;u2a_1&quot;: null, &quot;v2a_1&quot;: null, &quot;w2a_1&quot;: null, &quot;x2a_1&quot;: null, &quot;y2a_1&quot;: null, &quot;z2a_1&quot;: &quot;2024-10-18T10:00:50.193724Z&quot;}, &quot;m2a_1&quot;: {&quot;a5_1&quot;: null, &quot;d5_1&quot;: null, &quot;e5_1&quot;: null, &quot;r5_1&quot;: {&quot;a7_1&quot;: 0, &quot;b7_1&quot;: false, &quot;s6_1&quot;: [Array], &quot;t6_1&quot;: null, &quot;u6_1&quot;: [Int32Array], &quot;v6_1&quot;: [Int32Array], &quot;w6_1&quot;: 2, &quot;x6_1&quot;: 0, &quot;y6_1&quot;: 28, &quot;z6_1&quot;: 0}, &quot;s5_1&quot;: null, &quot;z4_1&quot;: null}, &quot;n2a_1&quot;: {&quot;a5_1&quot;: null, &quot;d5_1&quot;: null, &quot;e5_1&quot;: null, &quot;r5_1&quot;: {&quot;a7_1&quot;: 0, &quot;b7_1&quot;: false, &quot;s6_1&quot;: [Array], &quot;t6_1&quot;: null, &quot;u6_1&quot;: [Int32Array], &quot;v6_1&quot;: [Int32Array], &quot;w6_1&quot;: 2, &quot;x6_1&quot;: 0, &quot;y6_1&quot;: 28, &quot;z6_1&quot;: 0}, &quot;s5_1&quot;: null, &quot;z4_1&quot;: null}, &quot;o2a_1&quot;: null, &quot;p2a_1&quot;: null}, &quot;e2k_1&quot;: &quot;test-user&quot;, &quot;f2g_1&quot;: {&quot;y_1&quot;: -521199537, &quot;z_1&quot;: 4030129}, &quot;f2k_1&quot;: null, &quot;g2g_1&quot;: {&quot;j27_1&quot;: &quot;Test message 3&quot;, &quot;k27_1&quot;: []}, &quot;g2k_1&quot;: {&quot;e1p_1&quot;: {}}, &quot;h2g_1&quot;: &quot;channel_7QualP6l&quot;, &quot;i2g_1&quot;: &quot;test-user&quot;, &quot;j2g_1&quot;: null, &quot;k2g_1&quot;: {&quot;e1p_1&quot;: {}}, &quot;l2g_1&quot;: &quot;text&quot;}, &quot;x2l_1&quot;: [Function anonymous], &quot;y2l_1&quot;: [Function anonymous], &quot;z2l_1&quot;: [Function anonymous]}
                Received: serializes to the same string
                at Object.toEqual (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/channel.test.ts:750:40)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="Channel test should correctly stream read receipts" name="Channel test should correctly stream read receipts" time="6.716">
        </testcase>
        <testcase classname="Channel test should invite a user to the channel" name="Channel test should invite a user to the channel" time="4.483">
        </testcase>
        <testcase classname="Channel test should invite multiple users to the channel" name="Channel test should invite multiple users to the channel" time="4.129">
        </testcase>
        <testcase classname="Channel test should verify if user is a member of a channel" name="Channel test should verify if user is a member of a channel" time="6.207">
        </testcase>
        <testcase classname="Channel test should verify if user is online on a channel" name="Channel test should verify if user is online on a channel" time="9.644">
        </testcase>
        <testcase classname="Channel test should verify all user-related mentions using getCurrentUserMentions()" name="Channel test should verify all user-related mentions using getCurrentUserMentions()" time="3.754">
            <failure>TypeError: messageDraft.addMentionedUser is not a function
                at Object.addMentionedUser (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/channel.test.ts:859:18)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="Channel test Should fail when trying to edit membership metadata of a non-existent channel" name="Channel test Should fail when trying to edit membership metadata of a non-existent channel" time="1.399">
        </testcase>
        <testcase classname="Channel test Should create direct conversation, edit, and delete a message" name="Channel test Should create direct conversation, edit, and delete a message" time="5.917">
        </testcase>
        <testcase classname="Channel test should create, reply to, and delete a thread" name="Channel test should create, reply to, and delete a thread" time="1.561">
            <failure>TypeError: Cannot read properties of undefined (reading &apos;hasThread&apos;)
                at Object.hasThread (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/channel.test.ts:924:24)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="Channel test should create, reply to, delete a thread, and recreate the deleted thread" name="Channel test should create, reply to, delete a thread, and recreate the deleted thread" time="6.255">
        </testcase>
        <testcase classname="Channel test Should mention users with special characters in their names and validate mentioned users" name="Channel test Should mention users with special characters in their names and validate mentioned users" time="2.794">
            <failure>TypeError: messageDraft.addMentionedUser is not a function
                at Object.addMentionedUser (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/channel.test.ts:998:18)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="Channel test should create a group chat channel" name="Channel test should create a group chat channel" time="8.422">
        </testcase>
        <testcase classname="Channel test should create a public chat channel" name="Channel test should create a public chat channel" time="2.708">
        </testcase>
        <testcase classname="Channel test should set (or lift) restrictions on a user" name="Channel test should set (or lift) restrictions on a user" time="3.845">
        </testcase>
        <testcase classname="Channel test Should get the number of unread messages on channels" name="Channel test Should get the number of unread messages on channels" time="1.461">
            <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

                - Expected
                + Received

                @@ -4,10 +4,12 @@
                &quot;channelFields&quot;: true,
                &quot;channelStatusField&quot;: true,
                &quot;channelTypeField&quot;: true,
                &quot;customChannelFields&quot;: true,
                &quot;customFields&quot;: true,
                -     &quot;statusField&quot;: true,
                +     &quot;statusField&quot;: false,
                &quot;totalCount&quot;: true,
                },
                +   &quot;page&quot;: null,
                +   &quot;sort&quot;: Object {},
                &quot;uuid&quot;: &quot;test-user&quot;,
                },

                Number of calls: 1
                at Object.toHaveBeenCalledWith (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/channel.test.ts:1164:45)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="Channel test should set &apos;eTag&apos; and &apos;updated&apos; on the Membership object" name="Channel test should set &apos;eTag&apos; and &apos;updated&apos; on the Membership object" time="1.056">
        </testcase>
        <testcase classname="Channel test should set &apos;eTag&apos; and &apos;updated&apos; on the Membership object in real time" name="Channel test should set &apos;eTag&apos; and &apos;updated&apos; on the Membership object in real time" time="6.925">
        </testcase>
    </testsuite>
    <testsuite name="MessageDraft" errors="0" failures="11" skipped="0" timestamp="2024-11-06T21:14:41" time="22.637" tests="11">
        <testcase classname="MessageDraft should mention 2 users" name="MessageDraft should mention 2 users" time="1.64">
            <failure>TypeError: messageDraft.addMentionedUser is not a function
                at Object.addMentionedUser (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message-draft.test.ts:29:18)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="MessageDraft should mention 2 - 3 users next to each other" name="MessageDraft should mention 2 - 3 users next to each other" time="1.805">
            <failure>TypeError: messageDraft.addMentionedUser is not a function
                at Object.addMentionedUser (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message-draft.test.ts:53:18)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="MessageDraft should mention 2 - 3 users with words between second and third" name="MessageDraft should mention 2 - 3 users with words between second and third" time="1.602">
            <failure>TypeError: messageDraft.addMentionedUser is not a function
                at Object.addMentionedUser (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message-draft.test.ts:84:18)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="MessageDraft should reference 2 channels" name="MessageDraft should reference 2 channels" time="1.588">
            <failure>TypeError: messageDraft.addReferencedChannel is not a function
                at Object.addReferencedChannel (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message-draft.test.ts:112:18)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="MessageDraft should reference 2 channels and 2 mentions" name="MessageDraft should reference 2 channels and 2 mentions" time="2.39">
            <failure>TypeError: messageDraft.addReferencedChannel is not a function
                at Object.addReferencedChannel (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message-draft.test.ts:133:18)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="MessageDraft should reference 2 channels and 2 mentions with commas" name="MessageDraft should reference 2 channels and 2 mentions with commas" time="2.401">
            <failure>TypeError: messageDraft.addReferencedChannel is not a function
                at Object.addReferencedChannel (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message-draft.test.ts:163:18)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="MessageDraft should reference 2 channels and 2 mentions with commas - another variation" name="MessageDraft should reference 2 channels and 2 mentions with commas - another variation" time="2.379">
            <failure>TypeError: messageDraft.addReferencedChannel is not a function
                at Object.addReferencedChannel (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message-draft.test.ts:197:18)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="MessageDraft should add 2 text links and 2 plain links" name="MessageDraft should add 2 text links and 2 plain links" time="0.795">
            <failure>Error: expect(received).toBe(expected) // Object.is equality

                Expected: 9
                Received: 5
                at Object.toBe (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message-draft.test.ts:245:35)
                at Promise.then.completed (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/utils.js:298:28)
                at new Promise (&lt;anonymous&gt;)
                at callAsyncCircusFn (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/utils.js:231:10)
                at _callCircusTest (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:316:40)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)
                at _runTest (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:252:3)
                at _runTestsForDescribeBlock (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:126:9)
                at _runTestsForDescribeBlock (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:121:9)
                at run (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:71:3)
                at runAndTransformResultsToJestFormat (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
                at jestAdapter (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
                at runTestInternal (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-runner/build/runTest.js:367:16)
                at runTest (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-runner/build/runTest.js:444:34)</failure>
        </testcase>
        <testcase classname="MessageDraft should mix every type of message part" name="MessageDraft should mix every type of message part" time="2.399">
            <failure>TypeError: messageDraft.addReferencedChannel is not a function
                at Object.addReferencedChannel (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message-draft.test.ts:286:18)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="MessageDraft should mix every type of message part - variant 2" name="MessageDraft should mix every type of message part - variant 2" time="2.326">
            <failure>TypeError: messageDraft.addMentionedUser is not a function
                at Object.addMentionedUser (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message-draft.test.ts:338:18)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
        <testcase classname="MessageDraft should reference 3 channels and 3 mentions with no order" name="MessageDraft should reference 3 channels and 3 mentions with no order" time="2.489">
            <failure>TypeError: messageDraft.addReferencedChannel is not a function
                at Object.addReferencedChannel (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/message-draft.test.ts:411:18)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
    </testsuite>
    <testsuite name="User test" errors="0" failures="2" skipped="0" timestamp="2024-11-06T21:15:03" time="31.967" tests="12">
        <testcase classname="User test Should automatically create chat user while initializing" name="User test Should automatically create chat user while initializing" time="0.757">
        </testcase>
        <testcase classname="User test Should be able to create and fetch user" name="User test Should be able to create and fetch user" time="1.293">
        </testcase>
        <testcase classname="User test Should be able to update user" name="User test Should be able to update user" time="1.805">
        </testcase>
        <testcase classname="User test Should be able to delete user" name="User test Should be able to delete user" time="2.229">
        </testcase>
        <testcase classname="User test Should stream user updates and invoke the callback" name="User test Should stream user updates and invoke the callback" time="1.914">
        </testcase>
        <testcase classname="User test should update the user even if they&apos;re a member of a particular channel" name="User test should update the user even if they&apos;re a member of a particular channel" time="5.725">
        </testcase>
        <testcase classname="User test should update the user even if they&apos;re not a member of a particular channel" name="User test should update the user even if they&apos;re not a member of a particular channel" time="5.921">
        </testcase>
        <testcase classname="User test should report a user" name="User test should report a user" time="0.8">
            <failure>TypeError: user.DEPRECATED_report is not a function
                at Object.DEPRECATED_report (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/user.test.ts:124:16)
                at Promise.then.completed (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/utils.js:298:28)
                at new Promise (&lt;anonymous&gt;)
                at callAsyncCircusFn (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/utils.js:231:10)
                at _callCircusTest (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:316:40)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)
                at _runTest (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:252:3)
                at _runTestsForDescribeBlock (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:126:9)
                at _runTestsForDescribeBlock (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:121:9)
                at run (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/run.js:71:3)
                at runAndTransformResultsToJestFormat (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
                at jestAdapter (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
                at runTestInternal (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-runner/build/runTest.js:367:16)
                at runTest (/Users/wojciech.kalicinski/projects/js-chat/node_modules/jest-runner/build/runTest.js:444:34)</failure>
        </testcase>
        <testcase classname="User test Should be able to create, fetch, and validate multiple users" name="User test Should be able to create, fetch, and validate multiple users" time="6.525">
        </testcase>
        <testcase classname="User test Should fail to update a non-existent user" name="User test Should fail to update a non-existent user" time="1.105">
        </testcase>
        <testcase classname="User test Should fail to delete a non-existent user" name="User test Should fail to delete a non-existent user" time="1.146">
        </testcase>
        <testcase classname="User test Should apply filter to &apos;getMemberships&apos;" name="User test Should apply filter to &apos;getMemberships&apos;" time="1.131">
            <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

                - Expected
                + Received

                @@ -4,10 +4,12 @@
                &quot;channelFields&quot;: true,
                &quot;channelStatusField&quot;: true,
                &quot;channelTypeField&quot;: true,
                &quot;customChannelFields&quot;: true,
                &quot;customFields&quot;: true,
                -     &quot;statusField&quot;: true,
                +     &quot;statusField&quot;: false,
                &quot;totalCount&quot;: true,
                },
                +   &quot;page&quot;: null,
                +   &quot;sort&quot;: Object {},
                &quot;uuid&quot;: &quot;test-user&quot;,
                },

                Number of calls: 1
                at Object.toHaveBeenCalledWith (/Users/wojciech.kalicinski/projects/js-chat/lib/tests/user.test.ts:198:45)
                at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
        </testcase>
    </testsuite>
    <testsuite name="Channel test" errors="0" failures="0" skipped="0" timestamp="2024-11-06T21:15:35" time="0.433" tests="8">
        <testcase classname="Channel test should convert unix timestamp to PubNub timetoken" name="Channel test should convert unix timestamp to PubNub timetoken" time="0.002">
        </testcase>
        <testcase classname="Channel test should throw an error if the passed value for unix timestamp is not a number" name="Channel test should throw an error if the passed value for unix timestamp is not a number" time="0.001">
        </testcase>
        <testcase classname="Channel test should convert PubNub timetoken to unix timestamp" name="Channel test should convert PubNub timetoken to unix timestamp" time="0.001">
        </testcase>
        <testcase classname="Channel test should throw an error if the passed value for PN timetoken is not a number" name="Channel test should throw an error if the passed value for PN timetoken is not a number" time="0">
        </testcase>
        <testcase classname="Channel test should convert PubNub timetoken to a Date object" name="Channel test should convert PubNub timetoken to a Date object" time="0.001">
        </testcase>
        <testcase classname="Channel test should throw an error if the passed value for PN timetoken is not a number" name="Channel test should throw an error if the passed value for PN timetoken is not a number" time="0.001">
        </testcase>
        <testcase classname="Channel test should convert a Date object to PubNub timetoken" name="Channel test should convert a Date object to PubNub timetoken" time="0">
        </testcase>
        <testcase classname="Channel test should throw an error if the passed value for Date is not a Date" name="Channel test should throw an error if the passed value for Date is not a Date" time="0.001">
        </testcase>
    </testsuite>
</testsuites>